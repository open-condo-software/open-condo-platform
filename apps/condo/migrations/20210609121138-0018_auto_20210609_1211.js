// auto generated by kmigrator
// KMIGRATOR:0018_auto_20210609_1211:IyBHZW5lcmF0ZWQgYnkgRGphbmdvIDMuMi4zIG9uIDIwMjEtMDYtMDkgMTI6MTEKCmZyb20gZGphbmdvLmRiIGltcG9ydCBtaWdyYXRpb25zCgoKY2xhc3MgTWlncmF0aW9uKG1pZ3JhdGlvbnMuTWlncmF0aW9uKToKCiAgICBkZXBlbmRlbmNpZXMgPSBbCiAgICAgICAgKCdfZGphbmdvX3NjaGVtYScsICcwMDE3X2F1dG9fMjAyMTA2MDhfMDcwOCcpLAogICAgXQoKICAgIG9wZXJhdGlvbnMgPSBbCiAgICAgICAgbWlncmF0aW9ucy5SZW1vdmVGaWVsZCgKICAgICAgICAgICAgbW9kZWxfbmFtZT0nb3JnYW5pemF0aW9uJywKICAgICAgICAgICAgbmFtZT0nZGVmYXVsdEVtcGxveWVlUm9sZVN0YXR1c1RyYW5zaXRpb25zJywKICAgICAgICApLAogICAgICAgIG1pZ3JhdGlvbnMuUmVtb3ZlRmllbGQoCiAgICAgICAgICAgIG1vZGVsX25hbWU9J29yZ2FuaXphdGlvbicsCiAgICAgICAgICAgIG5hbWU9J3N0YXR1c1RyYW5zaXRpb25zJywKICAgICAgICApLAogICAgICAgIG1pZ3JhdGlvbnMuUmVtb3ZlRmllbGQoCiAgICAgICAgICAgIG1vZGVsX25hbWU9J29yZ2FuaXphdGlvbmVtcGxveWVlcm9sZScsCiAgICAgICAgICAgIG5hbWU9J3N0YXR1c1RyYW5zaXRpb25zJywKICAgICAgICApLAogICAgXQo=

exports.up = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Remove field defaultEmployeeRoleStatusTransitions from organization
--
ALTER TABLE "Organization" DROP COLUMN "defaultEmployeeRoleStatusTransitions" CASCADE;
--
-- Remove field statusTransitions from organization
--
ALTER TABLE "Organization" DROP COLUMN "statusTransitions" CASCADE;
--
-- Remove field statusTransitions from organizationemployeerole
--
ALTER TABLE "OrganizationEmployeeRole" DROP COLUMN "statusTransitions" CASCADE;
COMMIT;

    `)
}

exports.down = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Remove field statusTransitions from organizationemployeerole
--
ALTER TABLE "OrganizationEmployeeRole" ADD COLUMN "statusTransitions" jsonb NOT NULL;
--
-- Remove field statusTransitions from organization
--
ALTER TABLE "Organization" ADD COLUMN "statusTransitions" jsonb NOT NULL;
--
-- Remove field defaultEmployeeRoleStatusTransitions from organization
--
ALTER TABLE "Organization" ADD COLUMN "defaultEmployeeRoleStatusTransitions" jsonb NOT NULL;
COMMIT;

    `)
}
