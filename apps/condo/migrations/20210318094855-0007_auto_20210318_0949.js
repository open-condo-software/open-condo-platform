// auto generated by kmigrator
// KMIGRATOR:0007_auto_20210318_0949:IyBHZW5lcmF0ZWQgYnkgRGphbmdvIDMuMS42IG9uIDIwMjEtMDMtMTggMDk6NDkKCmZyb20gZGphbmdvLmRiIGltcG9ydCBtaWdyYXRpb25zLCBtb2RlbHMKCgpjbGFzcyBNaWdyYXRpb24obWlncmF0aW9ucy5NaWdyYXRpb24pOgoKICAgIGRlcGVuZGVuY2llcyA9IFsKICAgICAgICAoJ19kamFuZ29fc2NoZW1hJywgJzAwMDZfYXV0b18yMDIxMDMxMF8xNDU1JyksCiAgICBdCgogICAgb3BlcmF0aW9ucyA9IFsKICAgICAgICBtaWdyYXRpb25zLkFkZEZpZWxkKAogICAgICAgICAgICBtb2RlbF9uYW1lPSd0aWNrZXQnLAogICAgICAgICAgICBuYW1lPSdpc0VtZXJnZW5jeScsCiAgICAgICAgICAgIGZpZWxkPW1vZGVscy5Cb29sZWFuRmllbGQoZGVmYXVsdD1GYWxzZSksCiAgICAgICAgICAgIHByZXNlcnZlX2RlZmF1bHQ9RmFsc2UsCiAgICAgICAgKSwKICAgICAgICBtaWdyYXRpb25zLkFkZEZpZWxkKAogICAgICAgICAgICBtb2RlbF9uYW1lPSd0aWNrZXQnLAogICAgICAgICAgICBuYW1lPSdpc1BhaWQnLAogICAgICAgICAgICBmaWVsZD1tb2RlbHMuQm9vbGVhbkZpZWxkKGRlZmF1bHQ9RmFsc2UpLAogICAgICAgICAgICBwcmVzZXJ2ZV9kZWZhdWx0PUZhbHNlLAogICAgICAgICksCiAgICAgICAgbWlncmF0aW9ucy5BZGRGaWVsZCgKICAgICAgICAgICAgbW9kZWxfbmFtZT0ndGlja2V0aGlzdG9yeXJlY29yZCcsCiAgICAgICAgICAgIG5hbWU9J2lzRW1lcmdlbmN5JywKICAgICAgICAgICAgZmllbGQ9bW9kZWxzLkJvb2xlYW5GaWVsZChibGFuaz1UcnVlLCBudWxsPVRydWUpLAogICAgICAgICksCiAgICAgICAgbWlncmF0aW9ucy5BZGRGaWVsZCgKICAgICAgICAgICAgbW9kZWxfbmFtZT0ndGlja2V0aGlzdG9yeXJlY29yZCcsCiAgICAgICAgICAgIG5hbWU9J2lzUGFpZCcsCiAgICAgICAgICAgIGZpZWxkPW1vZGVscy5Cb29sZWFuRmllbGQoYmxhbms9VHJ1ZSwgbnVsbD1UcnVlKSwKICAgICAgICApLAogICAgXQo=

exports.up = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Add field isEmergency to ticket
--
ALTER TABLE "Ticket" ADD COLUMN "isEmergency" boolean DEFAULT false NOT NULL;
ALTER TABLE "Ticket" ALTER COLUMN "isEmergency" DROP DEFAULT;
--
-- Add field isPaid to ticket
--
ALTER TABLE "Ticket" ADD COLUMN "isPaid" boolean DEFAULT false NOT NULL;
ALTER TABLE "Ticket" ALTER COLUMN "isPaid" DROP DEFAULT;
--
-- Add field isEmergency to tickethistoryrecord
--
ALTER TABLE "TicketHistoryRecord" ADD COLUMN "isEmergency" boolean NULL;
--
-- Add field isPaid to tickethistoryrecord
--
ALTER TABLE "TicketHistoryRecord" ADD COLUMN "isPaid" boolean NULL;
COMMIT;

    `)
}

exports.down = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Add field isPaid to tickethistoryrecord
--
ALTER TABLE "TicketHistoryRecord" DROP COLUMN "isPaid" CASCADE;
--
-- Add field isEmergency to tickethistoryrecord
--
ALTER TABLE "TicketHistoryRecord" DROP COLUMN "isEmergency" CASCADE;
--
-- Add field isPaid to ticket
--
ALTER TABLE "Ticket" DROP COLUMN "isPaid" CASCADE;
--
-- Add field isEmergency to ticket
--
ALTER TABLE "Ticket" DROP COLUMN "isEmergency" CASCADE;
COMMIT;

    `)
}
