// auto generated by kmigrator
// KMIGRATOR:0017_auto_20210608_1328:IyBHZW5lcmF0ZWQgYnkgRGphbmdvIDMuMi4zIG9uIDIwMjEtMDYtMDggMTM6MjgKCmZyb20gZGphbmdvLmRiIGltcG9ydCBtaWdyYXRpb25zCgoKY2xhc3MgTWlncmF0aW9uKG1pZ3JhdGlvbnMuTWlncmF0aW9uKToKCiAgICBkZXBlbmRlbmNpZXMgPSBbCiAgICAgICAgKCdfZGphbmdvX3NjaGVtYScsICcwMDE2X3RpY2tldHN0YXR1c2hpc3RvcnlyZWNvcmRfY29sb3JzJyksCiAgICBdCgogICAgb3BlcmF0aW9ucyA9IFsKICAgICAgICBtaWdyYXRpb25zLlJlbW92ZUZpZWxkKAogICAgICAgICAgICBtb2RlbF9uYW1lPSdvcmdhbml6YXRpb24nLAogICAgICAgICAgICBuYW1lPSdkZWZhdWx0RW1wbG95ZWVSb2xlU3RhdHVzVHJhbnNpdGlvbnMnLAogICAgICAgICksCiAgICAgICAgbWlncmF0aW9ucy5SZW1vdmVGaWVsZCgKICAgICAgICAgICAgbW9kZWxfbmFtZT0nb3JnYW5pemF0aW9uJywKICAgICAgICAgICAgbmFtZT0nc3RhdHVzVHJhbnNpdGlvbnMnLAogICAgICAgICksCiAgICBdCg==

exports.up = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Remove field defaultEmployeeRoleStatusTransitions from organization
--
ALTER TABLE "Organization" DROP COLUMN "defaultEmployeeRoleStatusTransitions" CASCADE;
--
-- Remove field statusTransitions from organization
--
ALTER TABLE "Organization" DROP COLUMN "statusTransitions" CASCADE;
COMMIT;

    `)
}

exports.down = async (knex) => {
    await knex.raw(`
    BEGIN;
--
-- Remove field statusTransitions from organization
--
ALTER TABLE "Organization" ADD COLUMN "statusTransitions" jsonb NOT NULL;
--
-- Remove field defaultEmployeeRoleStatusTransitions from organization
--
ALTER TABLE "Organization" ADD COLUMN "defaultEmployeeRoleStatusTransitions" jsonb NOT NULL;
COMMIT;

    `)
}
